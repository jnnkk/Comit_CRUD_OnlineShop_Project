<!DOCTYPE html>
<html>
    <!-- pageTitle, prods, path 필요-->
<head>
    <%- include('./imports/head-layout.ejs') %>
    <link rel="stylesheet" href="/css/product.css">
    <link rel="stylesheet" href="/css/forms.css">
</head>

<body>
    <%- include('./imports/header.ejs') %>

    <main>
        <% if (prods.length > 0) { %>
            <div class="grid">
                <% for (let product of prods) { %>
                    <article class="card product-item">
                        <header class="card__header">
                            <h1 class="product__title"><%= product.title %></h1>
                        </header>
                        <div class="card__image">
                            <img src="<%= product.imgURL %>" alt="">
                        </div>
                        <div class="card__content">
                            <h2 class="product__price"><%= product.cost %></h2>
                            <p class="product__description"><%= product.description %></p>
                            <p class="product__stock"><%= product.stock %></p>
                        </div>

                        <form class="product-form" action="/admin/edit-product/<%= product.id %>" method="POST">
                            <div class="form-control">
                                <label for="title">Title</label>
                                <input type="text" name="title" id="title" value=<%= product.title %>>
                
                                <label for="cost">Cost</label>
                                <input type="number" name="cost" id="cost" value=<%= product.cost %>>
                
                                <label for="imgURL">Img</label>
                                <input type="text" name="imgURL" id="imgURL" value=<%= product.imgURL %>>
                
                                <label for="description">Description</label>
                                <input type="text" name="description" id="description" value=<%= product.description %>>
                
                                <label for="stock">Stock</label>
                                <input type="number" name="stock" id="stock" value=<%= product.stock %>>
                                
                                <label for="category">Category</label>
                                <select name="category" id="category">
                                    <option value="foods" <% if (product.category === "foods") { %>selected<% } %>>FOODS</option>
                                    <option value="clothes" <% if (product.category === "clothes") { %>selected<% } %>>CLOTHES</option>
                                    <option value="books" <% if (product.category === "books") { %>selected<% } %>>BOOKS</option>
                                    <option value="electronics" <% if (product.category === "electronics") { %>selected<% } %>>ELECTRONICS</option>
                                    <option value="furnitures" <% if (product.category === "furnitures") { %>selected<% } %>>FURNITURES</option>
                                    <option value="others" <% if (product.category === "others") { %>selected<% } %>>OTHERS</option>
                                </select>
                                                
                            </div>
                            <div class="card__actions">
                                <button class="btn" type="submit">Edit Product</button>
                            </div>
                        </form>
                    </article>
                <% } %>
            </div>
        <% } else { %>
            <h1>No Products Found!</h1>
        <% } %>
    </main>
</body>

</html>